import w from"./marketDetail-DfgkmI-4.js";import F from"./EUADetail-Cx_jIzcx.js";import I from"./SAFDetail-D5app2E8.js";import k from"./MarketTable-CXn6fArU.js";import _ from"./EUATable-BaiI0n6s.js";import D from"./SAFTable-D6VgEzJK.js";import{d as U,r as f,z as x,L as V,c as B,a as T,b as p,w as u,j as c,g as l,e as S,ax as O,o as i,f as h,u as H,ay as J,_ as Y}from"./index-ChEthMy4.js";import"./index-BchJLw8p.js";const z={class:"market-container"},L={class:"market-header"},q={class:"market-content"},G=U({name:"Market",__name:"index",setup(K){const Q=f(!1),a=f(null),s=f("CCER-12M"),N=O("positionSummaryRef"),b=f([{projectName:"CCER-12M-01",date:"2026-01-16",bidQty:25,bidPrice:310,lastTraded:310,offer:314,offerQty:50,highPrice:316,trend:"up"},{projectName:"CCER-12M-02",date:"2026-02-23",bidQty:50,bidPrice:315,lastTraded:316,offer:318,offerQty:25,highPrice:320,trend:"up"},{projectName:"CCER-12M-03",date:"2026-03-30",bidQty:25,bidPrice:308,lastTraded:310,offer:320,offerQty:25,highPrice:322,trend:"up"},{projectName:"CCER-12M-04",date:"2026-04-07",bidQty:35,bidPrice:322,lastTraded:325,offer:328,offerQty:35,highPrice:330,trend:"up"},{projectName:"CCER-12M-05",date:"2026-05-14",bidQty:40,bidPrice:318,lastTraded:315,offer:313,offerQty:40,highPrice:320,trend:"down"},{projectName:"CCER-12M-06",date:"2026-06-21",bidQty:30,bidPrice:305,lastTraded:308,offer:310,offerQty:30,highPrice:312,trend:"up"},{projectName:"CCER-12M-07",date:"2026-07-28",bidQty:45,bidPrice:312,lastTraded:314,offer:316,offerQty:45,highPrice:318,trend:"up"},{projectName:"CCER-12M-08",date:"2026-08-04",bidQty:20,bidPrice:300,lastTraded:298,offer:295,offerQty:20,highPrice:302,trend:"down"},{projectName:"CCER-12M-09",date:"2026-09-11",bidQty:55,bidPrice:292,lastTraded:290,offer:288,offerQty:55,highPrice:294,trend:"down"},{projectName:"CCER-12M-10",date:"2026-10-18",bidQty:60,bidPrice:285,lastTraded:288,offer:290,offerQty:60,highPrice:292,trend:"up"}]),y=f([{projectName:"CCER-24M-01",date:"2027-01-19",bidQty:50,bidPrice:290,lastTraded:292,offer:294,offerQty:50,highPrice:296,trend:"down"},{projectName:"CCER-24M-02",date:"2027-02-19",bidQty:25,bidPrice:271,lastTraded:276,offer:275,offerQty:25,highPrice:278,trend:"up"},{projectName:"CCER-24M-03",date:"2027-03-19",bidQty:50,bidPrice:240,lastTraded:240,offer:242,offerQty:50,highPrice:245,trend:"down"},{projectName:"CCER-24M-04",date:"2027-04-19",bidQty:35,bidPrice:245,lastTraded:248,offer:250,offerQty:35,highPrice:252,trend:"up"},{projectName:"CCER-24M-05",date:"2027-05-19",bidQty:45,bidPrice:255,lastTraded:258,offer:260,offerQty:45,highPrice:262,trend:"up"},{projectName:"CCER-24M-06",date:"2027-06-19",bidQty:40,bidPrice:262,lastTraded:260,offer:258,offerQty:40,highPrice:264,trend:"down"},{projectName:"CCER-24M-07",date:"2027-07-19",bidQty:30,bidPrice:252,lastTraded:250,offer:248,offerQty:30,highPrice:254,trend:"down"},{projectName:"CCER-24M-08",date:"2027-08-19",bidQty:55,bidPrice:245,lastTraded:248,offer:250,offerQty:55,highPrice:252,trend:"up"},{projectName:"CCER-24M-09",date:"2027-09-19",bidQty:60,bidPrice:252,lastTraded:255,offer:258,offerQty:60,highPrice:260,trend:"up"},{projectName:"CCER-24M-10",date:"2027-10-19",bidQty:50,bidPrice:260,lastTraded:262,offer:265,offerQty:50,highPrice:268,trend:"up"}]),v=f([{projectName:"CCER-36M-01",date:"2028-01-10",bidQty:25,bidPrice:265,lastTraded:266,offer:266,offerQty:25,highPrice:268,trend:"stable"},{projectName:"CCER-36M-02",date:"2028-02-10",bidQty:25,bidPrice:234,lastTraded:232,offer:238,offerQty:25,highPrice:240,trend:"up"},{projectName:"CCER-36M-03",date:"2028-03-10",bidQty:25,bidPrice:310,lastTraded:312,offer:318,offerQty:25,highPrice:320,trend:"up"},{projectName:"CCER-36M-04",date:"2028-04-10",bidQty:30,bidPrice:305,lastTraded:308,offer:310,offerQty:30,highPrice:312,trend:"up"},{projectName:"CCER-36M-05",date:"2028-05-10",bidQty:35,bidPrice:298,lastTraded:295,offer:293,offerQty:35,highPrice:300,trend:"down"},{projectName:"CCER-36M-06",date:"2028-06-10",bidQty:40,bidPrice:288,lastTraded:290,offer:292,offerQty:40,highPrice:294,trend:"up"},{projectName:"CCER-36M-07",date:"2028-07-10",bidQty:45,bidPrice:295,lastTraded:298,offer:300,offerQty:45,highPrice:302,trend:"up"},{projectName:"CCER-36M-08",date:"2028-08-10",bidQty:50,bidPrice:302,lastTraded:300,offer:298,offerQty:50,highPrice:304,trend:"down"},{projectName:"CCER-36M-09",date:"2028-09-10",bidQty:55,bidPrice:292,lastTraded:295,offer:297,offerQty:55,highPrice:299,trend:"up"},{projectName:"CCER-36M-10",date:"2028-10-10",bidQty:60,bidPrice:300,lastTraded:302,offer:305,offerQty:60,highPrice:308,trend:"up"}]),m=f([{productName:"EUA Dec-24",date:"2024-12-31",openPrice:65.23,lastPrice:66.45,highPrice:66.89,lowPrice:65.12,volume:15234,change:1.87},{productName:"EUA Dec-25",date:"2025-12-31",openPrice:68.45,lastPrice:67.89,highPrice:68.92,lowPrice:67.34,volume:12456,change:-.82},{productName:"EUA Dec-26",date:"2026-12-31",openPrice:70.12,lastPrice:71.34,highPrice:71.56,lowPrice:70.01,volume:9876,change:1.74},{productName:"EUA Mar-24",date:"2024-03-31",openPrice:63.45,lastPrice:64.23,highPrice:64.67,lowPrice:63.21,volume:8765,change:1.23},{productName:"EUA Jun-24",date:"2024-06-30",openPrice:64.78,lastPrice:63.98,highPrice:64.89,lowPrice:63.67,volume:7654,change:-1.24}]),C=f([{code:"SAF-C-2025Q1",productName:"SAF-C-Q",date:"2025-03-31",openPrice:58.2,lastPrice:58.2,highPrice:58.5,lowPrice:57.9,volume:280,change:0,feedstock:"废弃食用油",carbonIntensity:20.5,certification:"CORSIA"},{code:"SAF-C-2025Q2",productName:"SAF-C-Q",date:"2025-06-30",openPrice:60,lastPrice:61.2,highPrice:61.5,lowPrice:59.8,volume:300,change:2,feedstock:"藻类",carbonIntensity:18.7,certification:"ISCC"},{code:"SAF-C-2025Q3",productName:"SAF-C-Q",date:"2025-09-30",openPrice:61.5,lastPrice:60.9,highPrice:61.8,lowPrice:60.5,volume:320,change:-1,feedstock:"木质纤维素",carbonIntensity:22.3,certification:"RSB"},{code:"SAF-C-2025Q4",productName:"SAF-C-Q",date:"2025-12-31",openPrice:62.3,lastPrice:62.3,highPrice:62.5,lowPrice:62.1,volume:250,change:0,feedstock:"农业残余物",carbonIntensity:24.8,certification:"ISCC"},{code:"SAF-C-2025H1",productName:"SAF-C-H",date:"2025-06-30",openPrice:59,lastPrice:60.5,highPrice:60.8,lowPrice:58.8,volume:350,change:2.5,feedstock:"废弃食用油",carbonIntensity:20.9,certification:"RSB"},{code:"SAF-C-2025H2",productName:"SAF-C-H",date:"2025-12-31",openPrice:62,lastPrice:61.4,highPrice:62.3,lowPrice:61,volume:300,change:-1,feedstock:"藻类",carbonIntensity:19.2,certification:"CORSIA"},{code:"SAF-C-2025",productName:"SAF-C-Y",date:"2025-12-31",openPrice:60.5,lastPrice:60.5,highPrice:60.8,lowPrice:60.3,volume:200,change:0,feedstock:"木质纤维素",carbonIntensity:22.8,certification:"ISCC"},{code:"SAF-C-2026",productName:"SAF-C-Y",date:"2026-12-31",openPrice:63.5,lastPrice:65.1,highPrice:65.4,lowPrice:63.2,volume:400,change:2.5,feedstock:"农业残余物",carbonIntensity:24.5,certification:"RSB"},{code:"SAF-C-2027",productName:"SAF-C-Y",date:"2027-12-31",openPrice:64.8,lastPrice:62.8,highPrice:65,lowPrice:62.5,volume:380,change:-3.1,feedstock:"能源作物",carbonIntensity:27.3,certification:"CORSIA"}]),j=()=>{const e=localStorage.getItem("marketTableData");if(e)try{return JSON.parse(e)}catch(t){return console.error("解析本地存储数据失败",t),null}return null},E=()=>{try{const e={"CCER-12M":b.value,"CCER-24M":y.value,"CCER-36M":v.value,EUA:m.value,SAF:C.value};localStorage.setItem("marketTableData",JSON.stringify(e))}catch(e){console.error("保存表格数据失败",e)}},P=e=>{"projectName"in e||"feedstock"in e,a.value=e,Q.value=!0},M=e=>{var t,n,g;if("projectName"in e){const o=e.projectName.split("-")[0]+"-"+e.projectName.split("-")[1];let r;switch(o){case"CCER-12M":r=b;break;case"CCER-24M":r=y;break;case"CCER-36M":r=v;break;default:return}const d=r.value.findIndex(R=>R.projectName===e.projectName);if(d!==-1){const R=r.value[d];r.value[d]=e;const A=e.bidQty-R.bidQty;A!==0&&((t=N.value)==null||t.updatePosition(o,A))}}else if("feedstock"in e){const o=C.value.findIndex(r=>r.productName===e.productName);if(o!==-1){const r=C.value[o];C.value[o]=e;const d=Math.floor(e.volume/100)-Math.floor(r.volume/100);d!==0&&((n=N.value)==null||n.updatePosition("SAF",d))}}else{const o=m.value.findIndex(r=>r.productName===e.productName);if(o!==-1){const r=m.value[o];m.value[o]=e;const d=Math.floor(e.volume/100)-Math.floor(r.volume/100);d!==0&&((g=N.value)==null||g.updatePosition("EUA",d))}}E()};return localStorage.removeItem("marketTableData"),x(()=>{j()||E()}),V([b,y,v,m,C],()=>{E()},{deep:!0}),(e,t)=>{const n=S("el-radio-button"),g=S("el-radio-group"),o=S("el-drawer");return i(),B("div",z,[T("div",L,[t[7]||(t[7]=T("span",{class:"market-title"},"交易品种",-1)),p(g,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=r=>s.value=r),fill:"#336cfb"},{default:u(()=>[p(n,{label:"CCER-12M"},{default:u(()=>t[2]||(t[2]=[h("CCER-12M")])),_:1}),p(n,{label:"CCER-24M"},{default:u(()=>t[3]||(t[3]=[h("CCER-24M")])),_:1}),p(n,{label:"CCER-36M"},{default:u(()=>t[4]||(t[4]=[h("CCER-36M")])),_:1}),p(n,{label:"EUA"},{default:u(()=>t[5]||(t[5]=[h("EUA")])),_:1}),H(J)("permission:btn:delete")?l("",!0):(i(),c(n,{key:0,label:"SAF"},{default:u(()=>t[6]||(t[6]=[h(" SAF ")])),_:1}))]),_:1},8,["modelValue"])]),T("div",q,[s.value==="CCER-12M"?(i(),c(k,{key:0,data:b.value,onRowClick:P},null,8,["data"])):l("",!0),s.value==="CCER-24M"?(i(),c(k,{key:1,data:y.value,onRowClick:P},null,8,["data"])):l("",!0),s.value==="CCER-36M"?(i(),c(k,{key:2,data:v.value,onRowClick:P},null,8,["data"])):l("",!0),s.value==="EUA"?(i(),c(_,{key:3,data:m.value,onRowClick:P},null,8,["data"])):l("",!0),s.value==="SAF"?(i(),c(D,{key:4,data:C.value,onRowClick:P},null,8,["data"])):l("",!0)]),p(o,{modelValue:Q.value,"onUpdate:modelValue":t[1]||(t[1]=r=>Q.value=r),size:"50%","destroy-on-close":!0,"append-to-body":!0,modal:!0,direction:"rtl","close-on-click-modal":!0,"close-on-press-escape":!0,"show-close":!0,"with-header":!1,class:"market-detail-drawer"},{default:u(()=>[a.value&&"projectName"in a.value?(i(),c(w,{key:0,row:a.value,"column-name":"市场","onUpdate:row":M},null,8,["row"])):l("",!0),a.value&&"productName"in a.value&&!("feedstock"in a.value)?(i(),c(F,{key:1,row:a.value,"onUpdate:row":M},null,8,["row"])):l("",!0),a.value&&"feedstock"in a.value?(i(),c(I,{key:2,row:a.value,"onUpdate:row":M},null,8,["row"])):l("",!0)]),_:1},8,["modelValue"])])}}}),oe=Y(G,[["__scopeId","data-v-546ed720"]]);export{oe as default};
