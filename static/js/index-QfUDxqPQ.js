import w from"./marketDetail-W7cQUPQd.js";import _ from"./EUADetail-CTLIvzVk.js";import M from"./MarketTable-wNYZO3Kp.js";import D from"./EUATable-u16mhjOy.js";import{d as U,r as c,z as x,L as A,c as V,a as N,b as s,w as u,j as m,g as C,e as v,ax as S,o as l,f as y,_ as I}from"./index-BEUsU-cJ.js";import"./index-BchJLw8p.js";const B={class:"market-container"},J={class:"market-header"},z={class:"market-content"},O=U({name:"Market",__name:"index",setup(F){const Q=c(!1),o=c(null),n=c("CCER-12M"),R=S("positionSummaryRef"),p=c([{projectName:"CCER-12M-01",date:"2026-01-16",bidQty:25,bidPrice:310,lastTraded:310,offer:314,offerQty:50,highPrice:316,trend:"up"},{projectName:"CCER-12M-02",date:"2026-02-23",bidQty:50,bidPrice:315,lastTraded:316,offer:318,offerQty:25,highPrice:320,trend:"up"},{projectName:"CCER-12M-03",date:"2026-03-30",bidQty:25,bidPrice:308,lastTraded:310,offer:320,offerQty:25,highPrice:322,trend:"up"},{projectName:"CCER-12M-04",date:"2026-04-07",bidQty:35,bidPrice:322,lastTraded:325,offer:328,offerQty:35,highPrice:330,trend:"up"},{projectName:"CCER-12M-05",date:"2026-05-14",bidQty:40,bidPrice:318,lastTraded:315,offer:313,offerQty:40,highPrice:320,trend:"down"},{projectName:"CCER-12M-06",date:"2026-06-21",bidQty:30,bidPrice:305,lastTraded:308,offer:310,offerQty:30,highPrice:312,trend:"up"},{projectName:"CCER-12M-07",date:"2026-07-28",bidQty:45,bidPrice:312,lastTraded:314,offer:316,offerQty:45,highPrice:318,trend:"up"},{projectName:"CCER-12M-08",date:"2026-08-04",bidQty:20,bidPrice:300,lastTraded:298,offer:295,offerQty:20,highPrice:302,trend:"down"},{projectName:"CCER-12M-09",date:"2026-09-11",bidQty:55,bidPrice:292,lastTraded:290,offer:288,offerQty:55,highPrice:294,trend:"down"},{projectName:"CCER-12M-10",date:"2026-10-18",bidQty:60,bidPrice:285,lastTraded:288,offer:290,offerQty:60,highPrice:292,trend:"up"}]),b=c([{projectName:"CCER-24M-01",date:"2027-01-19",bidQty:50,bidPrice:290,lastTraded:292,offer:294,offerQty:50,highPrice:296,trend:"down"},{projectName:"CCER-24M-02",date:"2027-02-19",bidQty:25,bidPrice:271,lastTraded:276,offer:275,offerQty:25,highPrice:278,trend:"up"},{projectName:"CCER-24M-03",date:"2027-03-19",bidQty:50,bidPrice:240,lastTraded:240,offer:242,offerQty:50,highPrice:245,trend:"down"},{projectName:"CCER-24M-04",date:"2027-04-19",bidQty:35,bidPrice:245,lastTraded:248,offer:250,offerQty:35,highPrice:252,trend:"up"},{projectName:"CCER-24M-05",date:"2027-05-19",bidQty:45,bidPrice:255,lastTraded:258,offer:260,offerQty:45,highPrice:262,trend:"up"},{projectName:"CCER-24M-06",date:"2027-06-19",bidQty:40,bidPrice:262,lastTraded:260,offer:258,offerQty:40,highPrice:264,trend:"down"},{projectName:"CCER-24M-07",date:"2027-07-19",bidQty:30,bidPrice:252,lastTraded:250,offer:248,offerQty:30,highPrice:254,trend:"down"},{projectName:"CCER-24M-08",date:"2027-08-19",bidQty:55,bidPrice:245,lastTraded:248,offer:250,offerQty:55,highPrice:252,trend:"up"},{projectName:"CCER-24M-09",date:"2027-09-19",bidQty:60,bidPrice:252,lastTraded:255,offer:258,offerQty:60,highPrice:260,trend:"up"},{projectName:"CCER-24M-10",date:"2027-10-19",bidQty:50,bidPrice:260,lastTraded:262,offer:265,offerQty:50,highPrice:268,trend:"up"}]),P=c([{projectName:"CCER-36M-01",date:"2028-01-10",bidQty:25,bidPrice:265,lastTraded:266,offer:266,offerQty:25,highPrice:268,trend:"stable"},{projectName:"CCER-36M-02",date:"2028-02-10",bidQty:25,bidPrice:234,lastTraded:232,offer:238,offerQty:25,highPrice:240,trend:"up"},{projectName:"CCER-36M-03",date:"2028-03-10",bidQty:25,bidPrice:310,lastTraded:312,offer:318,offerQty:25,highPrice:320,trend:"up"},{projectName:"CCER-36M-04",date:"2028-04-10",bidQty:30,bidPrice:305,lastTraded:308,offer:310,offerQty:30,highPrice:312,trend:"up"},{projectName:"CCER-36M-05",date:"2028-05-10",bidQty:35,bidPrice:298,lastTraded:295,offer:293,offerQty:35,highPrice:300,trend:"down"},{projectName:"CCER-36M-06",date:"2028-06-10",bidQty:40,bidPrice:288,lastTraded:290,offer:292,offerQty:40,highPrice:294,trend:"up"},{projectName:"CCER-36M-07",date:"2028-07-10",bidQty:45,bidPrice:295,lastTraded:298,offer:300,offerQty:45,highPrice:302,trend:"up"},{projectName:"CCER-36M-08",date:"2028-08-10",bidQty:50,bidPrice:302,lastTraded:300,offer:298,offerQty:50,highPrice:304,trend:"down"},{projectName:"CCER-36M-09",date:"2028-09-10",bidQty:55,bidPrice:292,lastTraded:295,offer:297,offerQty:55,highPrice:299,trend:"up"},{projectName:"CCER-36M-10",date:"2028-10-10",bidQty:60,bidPrice:300,lastTraded:302,offer:305,offerQty:60,highPrice:308,trend:"up"}]),f=c([{productName:"EUA Dec-24",date:"2024-12-31",openPrice:65.23,lastPrice:66.45,highPrice:66.89,lowPrice:65.12,volume:15234,change:1.87},{productName:"EUA Dec-25",date:"2025-12-31",openPrice:68.45,lastPrice:67.89,highPrice:68.92,lowPrice:67.34,volume:12456,change:-.82},{productName:"EUA Dec-26",date:"2026-12-31",openPrice:70.12,lastPrice:71.34,highPrice:71.56,lowPrice:70.01,volume:9876,change:1.74},{productName:"EUA Mar-24",date:"2024-03-31",openPrice:63.45,lastPrice:64.23,highPrice:64.67,lowPrice:63.21,volume:8765,change:1.23},{productName:"EUA Jun-24",date:"2024-06-30",openPrice:64.78,lastPrice:63.98,highPrice:64.89,lowPrice:63.67,volume:7654,change:-1.24}]),k=()=>{const e=localStorage.getItem("marketTableData");if(e)try{return JSON.parse(e)}catch(t){return console.error("解析本地存储数据失败",t),null}return null},E=()=>{try{const e={"CCER-12M":p.value,"CCER-24M":b.value,"CCER-36M":P.value,EUA:f.value};localStorage.setItem("marketTableData",JSON.stringify(e))}catch(e){console.error("保存表格数据失败",e)}},h=e=>{"projectName"in e,o.value=e,Q.value=!0},T=e=>{var t,i;if("projectName"in e){const d=e.projectName.split("-")[0]+"-"+e.projectName.split("-")[1];let r;switch(d){case"CCER-12M":r=p;break;case"CCER-24M":r=b;break;case"CCER-36M":r=P;break;default:return}const a=r.value.findIndex(g=>g.projectName===e.projectName);if(a!==-1){const g=r.value[a];r.value[a]=e;const j=e.bidQty-g.bidQty;j!==0&&((t=R.value)==null||t.updatePosition(d,j))}}else{const d=f.value.findIndex(r=>r.productName===e.productName);if(d!==-1){const r=f.value[d];f.value[d]=e;const a=Math.floor(e.volume/100)-Math.floor(r.volume/100);a!==0&&((i=R.value)==null||i.updatePosition("EUA",a))}}E()};return localStorage.removeItem("marketTableData"),x(()=>{k()||E()}),A([p,b,P,f],()=>{E()},{deep:!0}),(e,t)=>{const i=v("el-radio-button"),d=v("el-radio-group"),r=v("el-drawer");return l(),V("div",B,[N("div",J,[t[6]||(t[6]=N("span",{class:"market-title"},"交易品种",-1)),s(d,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=a=>n.value=a),fill:"#336cfb"},{default:u(()=>[s(i,{label:"CCER-12M"},{default:u(()=>t[2]||(t[2]=[y("CCER-12M")])),_:1}),s(i,{label:"CCER-24M"},{default:u(()=>t[3]||(t[3]=[y("CCER-24M")])),_:1}),s(i,{label:"CCER-36M"},{default:u(()=>t[4]||(t[4]=[y("CCER-36M")])),_:1}),s(i,{label:"EUA"},{default:u(()=>t[5]||(t[5]=[y("EUA")])),_:1})]),_:1},8,["modelValue"])]),N("div",z,[n.value==="CCER-12M"?(l(),m(M,{key:0,data:p.value,onRowClick:h},null,8,["data"])):C("",!0),n.value==="CCER-24M"?(l(),m(M,{key:1,data:b.value,onRowClick:h},null,8,["data"])):C("",!0),n.value==="CCER-36M"?(l(),m(M,{key:2,data:P.value,onRowClick:h},null,8,["data"])):C("",!0),n.value==="EUA"?(l(),m(D,{key:3,data:f.value,onRowClick:h},null,8,["data"])):C("",!0)]),s(r,{modelValue:Q.value,"onUpdate:modelValue":t[1]||(t[1]=a=>Q.value=a),size:"50%","destroy-on-close":!0,"append-to-body":!0,modal:!0,direction:"rtl","close-on-click-modal":!0,"close-on-press-escape":!0,"show-close":!0,"with-header":!1,class:"market-detail-drawer"},{default:u(()=>[o.value&&"projectName"in o.value?(l(),m(w,{key:0,row:o.value,"column-name":"市场","onUpdate:row":T},null,8,["row"])):C("",!0),o.value&&"productName"in o.value?(l(),m(_,{key:1,row:o.value,"onUpdate:row":T},null,8,["row"])):C("",!0)]),_:1},8,["modelValue"])])}}}),X=I(O,[["__scopeId","data-v-a9d95fc6"]]);export{X as default};
