import _ from"./marketDetail-FdkGuq_z.js";import h from"./EUADetail-DGvT11KI.js";import v from"./MarketTable-Df_Vdg7x.js";import D from"./EUATable-CnyaLICT.js";import{d as U,r as i,z as x,L as A,c as V,a as R,b as s,w as u,j as m,g as C,e as T,ax as S,o as c,f as E,_ as I}from"./index-DISCVDVs.js";import"./index-BchJLw8p.js";const B={class:"market-container"},J={class:"market-header"},z={class:"market-content"},O=U({name:"Market",__name:"index",setup(F){const M=i(!1),o=i(null),n=i("CCER-12M"),j=S("positionSummaryRef"),p=i([{projectName:"CCER-12M-01",date:"2026-01-16",bidQty:25,bidPrice:310,lastTraded:310,offer:314,offerQty:50,trend:"up"},{projectName:"CCER-12M-02",date:"2026-02-23",bidQty:50,bidPrice:315,lastTraded:316,offer:318,offerQty:25,trend:"up"},{projectName:"CCER-12M-03",date:"2026-03-30",bidQty:25,bidPrice:308,lastTraded:310,offer:320,offerQty:25,trend:"up"},{projectName:"CCER-12M-04",date:"2026-04-07",bidQty:35,bidPrice:322,lastTraded:325,offer:328,offerQty:35,trend:"up"},{projectName:"CCER-12M-05",date:"2026-05-14",bidQty:40,bidPrice:318,lastTraded:315,offer:313,offerQty:40,trend:"down"},{projectName:"CCER-12M-06",date:"2026-06-21",bidQty:30,bidPrice:305,lastTraded:308,offer:310,offerQty:30,trend:"up"},{projectName:"CCER-12M-07",date:"2026-07-28",bidQty:45,bidPrice:312,lastTraded:314,offer:316,offerQty:45,trend:"up"},{projectName:"CCER-12M-08",date:"2026-08-04",bidQty:20,bidPrice:300,lastTraded:298,offer:295,offerQty:20,trend:"down"},{projectName:"CCER-12M-09",date:"2026-09-11",bidQty:55,bidPrice:292,lastTraded:290,offer:288,offerQty:55,trend:"down"},{projectName:"CCER-12M-10",date:"2026-10-18",bidQty:60,bidPrice:285,lastTraded:288,offer:290,offerQty:60,trend:"up"}]),b=i([{projectName:"CCER-24M-01",date:"2027-01-19",bidQty:50,bidPrice:290,lastTraded:292,offer:294,offerQty:50,trend:"down"},{projectName:"CCER-24M-02",date:"2027-02-19",bidQty:25,bidPrice:271,lastTraded:276,offer:275,offerQty:25,trend:"up"},{projectName:"CCER-24M-03",date:"2027-03-19",bidQty:50,bidPrice:240,lastTraded:240,offer:242,offerQty:50,trend:"down"},{projectName:"CCER-24M-04",date:"2027-04-19",bidQty:35,bidPrice:245,lastTraded:248,offer:250,offerQty:35,trend:"up"},{projectName:"CCER-24M-05",date:"2027-05-19",bidQty:45,bidPrice:255,lastTraded:258,offer:260,offerQty:45,trend:"up"},{projectName:"CCER-24M-06",date:"2027-06-19",bidQty:40,bidPrice:262,lastTraded:260,offer:258,offerQty:40,trend:"down"},{projectName:"CCER-24M-07",date:"2027-07-19",bidQty:30,bidPrice:252,lastTraded:250,offer:248,offerQty:30,trend:"down"},{projectName:"CCER-24M-08",date:"2027-08-19",bidQty:55,bidPrice:245,lastTraded:248,offer:250,offerQty:55,trend:"up"},{projectName:"CCER-24M-09",date:"2027-09-19",bidQty:60,bidPrice:252,lastTraded:255,offer:258,offerQty:60,trend:"up"},{projectName:"CCER-24M-10",date:"2027-10-19",bidQty:50,bidPrice:260,lastTraded:262,offer:265,offerQty:50,trend:"up"}]),y=i([{projectName:"CCER-36M-01",date:"2028-01-10",bidQty:25,bidPrice:265,lastTraded:266,offer:266,offerQty:25,trend:"stable"},{projectName:"CCER-36M-02",date:"2028-02-10",bidQty:25,bidPrice:234,lastTraded:232,offer:238,offerQty:25,trend:"up"},{projectName:"CCER-36M-03",date:"2028-03-10",bidQty:25,bidPrice:310,lastTraded:312,offer:318,offerQty:25,trend:"up"},{projectName:"CCER-36M-04",date:"2028-04-10",bidQty:30,bidPrice:305,lastTraded:308,offer:310,offerQty:30,trend:"up"},{projectName:"CCER-36M-05",date:"2028-05-10",bidQty:35,bidPrice:298,lastTraded:295,offer:293,offerQty:35,trend:"down"},{projectName:"CCER-36M-06",date:"2028-06-10",bidQty:40,bidPrice:288,lastTraded:290,offer:292,offerQty:40,trend:"up"},{projectName:"CCER-36M-07",date:"2028-07-10",bidQty:45,bidPrice:295,lastTraded:298,offer:300,offerQty:45,trend:"up"},{projectName:"CCER-36M-08",date:"2028-08-10",bidQty:50,bidPrice:302,lastTraded:300,offer:298,offerQty:50,trend:"down"},{projectName:"CCER-36M-09",date:"2028-09-10",bidQty:55,bidPrice:292,lastTraded:295,offer:297,offerQty:55,trend:"up"},{projectName:"CCER-36M-10",date:"2028-10-10",bidQty:60,bidPrice:300,lastTraded:302,offer:305,offerQty:60,trend:"up"}]),f=i([{productName:"EUA Dec-24",date:"2024-12-31",openPrice:65.23,lastPrice:66.45,highPrice:66.89,lowPrice:65.12,volume:15234,change:1.87},{productName:"EUA Dec-25",date:"2025-12-31",openPrice:68.45,lastPrice:67.89,highPrice:68.92,lowPrice:67.34,volume:12456,change:-.82},{productName:"EUA Dec-26",date:"2026-12-31",openPrice:70.12,lastPrice:71.34,highPrice:71.56,lowPrice:70.01,volume:9876,change:1.74},{productName:"EUA Mar-24",date:"2024-03-31",openPrice:63.45,lastPrice:64.23,highPrice:64.67,lowPrice:63.21,volume:8765,change:1.23},{productName:"EUA Jun-24",date:"2024-06-30",openPrice:64.78,lastPrice:63.98,highPrice:64.89,lowPrice:63.67,volume:7654,change:-1.24}]),g=()=>{const e=localStorage.getItem("marketTableData");if(e)try{return JSON.parse(e)}catch(t){return console.error("解析本地存储数据失败",t),null}return null},P=()=>{try{const e={"CCER-12M":p.value,"CCER-24M":b.value,"CCER-36M":y.value,EUA:f.value};localStorage.setItem("marketTableData",JSON.stringify(e))}catch(e){console.error("保存表格数据失败",e)}},Q=e=>{"projectName"in e,o.value=e,M.value=!0},k=e=>{var t,l;if("projectName"in e){const d=e.projectName.split("-")[0]+"-"+e.projectName.split("-")[1];let a;switch(d){case"CCER-12M":a=p;break;case"CCER-24M":a=b;break;case"CCER-36M":a=y;break;default:return}const r=a.value.findIndex(N=>N.projectName===e.projectName);if(r!==-1){const N=a.value[r];a.value[r]=e;const w=e.bidQty-N.bidQty;w!==0&&((t=j.value)==null||t.updatePosition(d,w))}}else{const d=f.value.findIndex(a=>a.productName===e.productName);if(d!==-1){const a=f.value[d];f.value[d]=e;const r=Math.floor(e.volume/100)-Math.floor(a.volume/100);r!==0&&((l=j.value)==null||l.updatePosition("EUA",r))}}P()};return localStorage.removeItem("marketTableData"),x(()=>{g()||P()}),A([p,b,y,f],()=>{P()},{deep:!0}),(e,t)=>{const l=T("el-radio-button"),d=T("el-radio-group"),a=T("el-drawer");return c(),V("div",B,[R("div",J,[t[6]||(t[6]=R("span",{class:"market-title"},"交易品种",-1)),s(d,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=r=>n.value=r),fill:"#336cfb"},{default:u(()=>[s(l,{label:"CCER-12M"},{default:u(()=>t[2]||(t[2]=[E("CCER-12M")])),_:1}),s(l,{label:"CCER-24M"},{default:u(()=>t[3]||(t[3]=[E("CCER-24M")])),_:1}),s(l,{label:"CCER-36M"},{default:u(()=>t[4]||(t[4]=[E("CCER-36M")])),_:1}),s(l,{label:"EUA"},{default:u(()=>t[5]||(t[5]=[E("EUA")])),_:1})]),_:1},8,["modelValue"])]),R("div",z,[n.value==="CCER-12M"?(c(),m(v,{key:0,data:p.value,onRowClick:Q},null,8,["data"])):C("",!0),n.value==="CCER-24M"?(c(),m(v,{key:1,data:b.value,onRowClick:Q},null,8,["data"])):C("",!0),n.value==="CCER-36M"?(c(),m(v,{key:2,data:y.value,onRowClick:Q},null,8,["data"])):C("",!0),n.value==="EUA"?(c(),m(D,{key:3,data:f.value,onRowClick:Q},null,8,["data"])):C("",!0)]),s(a,{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=r=>M.value=r),size:"50%","destroy-on-close":!0,"append-to-body":!0,modal:!0,direction:"rtl","close-on-click-modal":!0,"close-on-press-escape":!0,"show-close":!0,"with-header":!1,class:"market-detail-drawer"},{default:u(()=>[o.value&&"projectName"in o.value?(c(),m(_,{key:0,row:o.value,"column-name":"市场","onUpdate:row":k},null,8,["row"])):C("",!0),o.value&&"productName"in o.value?(c(),m(h,{key:1,row:o.value,"onUpdate:row":k},null,8,["row"])):C("",!0)]),_:1},8,["modelValue"])])}}}),X=I(O,[["__scopeId","data-v-96f9e615"]]);export{X as default};
