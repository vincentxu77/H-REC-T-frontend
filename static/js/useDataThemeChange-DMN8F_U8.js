var I=(t,e,r)=>new Promise((a,h)=>{var p=s=>{try{m(r.next(s))}catch(d){h(d)}},S=s=>{try{m(r.throw(s))}catch(d){h(d)}},m=s=>s.done?a(s.value):Promise.resolve(s.value).then(p,S);m((r=r.apply(t,e)).next())});import{ag as H,m as M,aL as N,I as D,a4 as q,s as G,p as P,N as c,v as y,q as C,ab as F,r as k,aM as O,E as A,aD as R,aN as W,aO as B,aP as V}from"./index-DGkk25Tl.js";function _(){const{$storage:t,$config:e}=H(),r=()=>{var p,S,m,s,d,T,v,E,f,b,o,l,i,n,u,g,w;N().multiTagsCache&&(!t.tags||t.tags.length===0)&&(t.tags=D),t.locale||(t.locale={locale:(p=e==null?void 0:e.Locale)!=null?p:"zh"},q().locale.value=(S=e==null?void 0:e.Locale)!=null?S:"zh"),t.layout||(t.layout={layout:(m=e==null?void 0:e.Layout)!=null?m:"vertical",theme:(s=e==null?void 0:e.Theme)!=null?s:"light",darkMode:(d=e==null?void 0:e.DarkMode)!=null?d:!1,sidebarStatus:(T=e==null?void 0:e.SidebarStatus)!=null?T:!0,epThemeColor:(v=e==null?void 0:e.EpThemeColor)!=null?v:"#409EFF",themeColor:(E=e==null?void 0:e.Theme)!=null?E:"light",overallStyle:(f=e==null?void 0:e.OverallStyle)!=null?f:"light"}),t.configure||(t.configure={grey:(b=e==null?void 0:e.Grey)!=null?b:!1,weak:(o=e==null?void 0:e.Weak)!=null?o:!1,hideTabs:(l=e==null?void 0:e.HideTabs)!=null?l:!1,hideFooter:(i=e.HideFooter)!=null?i:!0,showLogo:(n=e==null?void 0:e.ShowLogo)!=null?n:!0,showModel:(u=e==null?void 0:e.ShowModel)!=null?u:"smart",multiTagsCache:(g=e==null?void 0:e.MultiTagsCache)!=null?g:!1,stretch:(w=e==null?void 0:e.Stretch)!=null?w:!1})},a=M(()=>t==null?void 0:t.layout.layout),h=M(()=>t.layout);return{layout:a,layoutTheme:h,initStorage:r}}const x=P({id:"pure-app",state:()=>{var t,e,r,a;return{sidebar:{opened:(e=(t=c().getItem(`${y()}layout`))==null?void 0:t.sidebarStatus)!=null?e:C().SidebarStatus,withoutAnimation:!1,isClickCollapse:!1},layout:(a=(r=c().getItem(`${y()}layout`))==null?void 0:r.layout)!=null?a:C().Layout,device:F()?"mobile":"desktop",viewportSize:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}},getters:{getSidebarStatus(t){return t.sidebar.opened},getDevice(t){return t.device},getViewportWidth(t){return t.viewportSize.width},getViewportHeight(t){return t.viewportSize.height}},actions:{TOGGLE_SIDEBAR(t,e){const r=c().getItem(`${y()}layout`);t&&e?(this.sidebar.withoutAnimation=!0,this.sidebar.opened=!0,r.sidebarStatus=!0):!t&&e?(this.sidebar.withoutAnimation=!0,this.sidebar.opened=!1,r.sidebarStatus=!1):!t&&!e&&(this.sidebar.withoutAnimation=!1,this.sidebar.opened=!this.sidebar.opened,this.sidebar.isClickCollapse=!this.sidebar.opened,r.sidebarStatus=this.sidebar.opened),c().setItem(`${y()}layout`,r)},toggleSideBar(t,e){return I(this,null,function*(){yield this.TOGGLE_SIDEBAR(t,e)})},toggleDevice(t){this.device=t},setLayout(t){this.layout=t},setViewportSize(t){this.viewportSize=t},setSortSwap(t){this.sortSwap=t}}});function K(){return x(G)}const Q=P({id:"pure-epTheme",state:()=>{var t,e,r,a;return{epThemeColor:(e=(t=c().getItem(`${y()}layout`))==null?void 0:t.epThemeColor)!=null?e:C().EpThemeColor,epTheme:(a=(r=c().getItem(`${y()}layout`))==null?void 0:r.theme)!=null?a:C().Theme}},getters:{getEpThemeColor(t){return t.epThemeColor},fill(t){return t.epTheme==="light"?"#409eff":"#fff"}},actions:{setEpThemeColor(t){const e=c().getItem(`${y()}layout`);this.epTheme=e==null?void 0:e.theme,this.epThemeColor=t,e&&(e.epThemeColor=t,c().setItem(`${y()}layout`,e))}}});function L(){return Q(G)}function U(){var f,b;const{layoutTheme:t,layout:e}=_(),r=k([{color:"#ffffff",themeColor:"light"},{color:"#1b2a47",themeColor:"default"},{color:"#722ed1",themeColor:"saucePurple"},{color:"#eb2f96",themeColor:"pink"},{color:"#f5222d",themeColor:"dusk"},{color:"#fa541c",themeColor:"volcano"},{color:"#13c2c2",themeColor:"mingQing"},{color:"#52c41a",themeColor:"auroraGreen"}]),{$storage:a}=H(),h=k((f=a==null?void 0:a.layout)==null?void 0:f.darkMode),p=k((b=a==null?void 0:a.layout)==null?void 0:b.overallStyle),S=document.documentElement;function m(o,l,i){const n=i||document.body;let{className:u}=n;u=u.replace(l,"").trim(),n.className=o?`${u} ${l}`:u}function s(o=(i=>(i=C().Theme)!=null?i:"light")(),l=!0){var u,g;t.value.theme=o,document.documentElement.setAttribute("data-theme",o);const n=a.layout.themeColor;if(a.layout={layout:e.value,theme:o,darkMode:h.value,sidebarStatus:(u=a.layout)==null?void 0:u.sidebarStatus,epThemeColor:(g=a.layout)==null?void 0:g.epThemeColor,themeColor:l?o:n,overallStyle:p.value},o==="default"||o==="light")T(C().EpThemeColor);else{const w=r.value.find(z=>z.themeColor===o);T(w.color)}}function d(o,l,i){document.documentElement.style.setProperty(`--el-color-primary-${o}-${l}`,h.value?B(i,l/10):V(i,l/10))}const T=o=>{L().setEpThemeColor(o),document.documentElement.style.setProperty("--el-color-primary",o);for(let l=1;l<=2;l++)d("dark",l,o);for(let l=1;l<=9;l++)d("light",l,o)};function v(o){p.value=o,L().epTheme==="light"&&h.value?s("default",!1):s(L().epTheme,!1),h.value?document.documentElement.classList.add("dark"):(a.layout.themeColor==="light"&&s("light",!1),document.documentElement.classList.remove("dark"))}function E(){O(),c().clear();const{Grey:o,Weak:l,MultiTagsCache:i,EpThemeColor:n,Layout:u}=C();K().setLayout(u),T(n),A().multiTagsCacheChange(i),m(o,"html-grey",document.querySelector("html")),m(l,"html-weakness",document.querySelector("html")),R.push("/login"),A().handleTags("equal",[...D]),W()}return{body:S,dataTheme:h,overallStyle:p,layoutTheme:t,themeColors:r,onReset:E,toggleClass:m,dataThemeChange:v,setEpThemeColor:T,setLayoutThemeColor:s}}export{U as a,K as b,_ as c,L as u};
